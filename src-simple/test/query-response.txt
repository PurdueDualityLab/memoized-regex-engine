### Prototype test suite: Query-response pairs (independent of memoization configuration)
# Format:
#   Whitespace is stripped, and "," is a special character
#   Empty lines are ignored
#   A # introduces a comment

# REGEX , INPUT , MATCH/MISMATCH
# -----   -----   ---------------

# R1 . R2
a       , a               , MATCH
a       , bab             , MATCH
.*a.*   , bab             , MATCH
ab      , ab              , MATCH
abcde   , xyzabcxyzabcde  , MATCH
abcde   , xyzabcxyz       , MISMATCH

# R1 | R2
a|b     , a               , MATCH
a|b     , b               , MATCH
x(a|b)y , xay             , MATCH
x(a|b)y , xby             , MATCH
x(a|b)y , xcy             , MISMATCH

# R1*
a*      , a               , MATCH
xa*y    , xy              , MATCH
xa*y    , xay             , MATCH
xa*y    , xaaaay          , MATCH
a+      , a               , MATCH
xa+y    , xy              , MISMATCH
xa+y    , xaaaaaay        , MATCH

# Anchors: ^, $
^ab     , ab              , MATCH
^ab     , xab             , MISMATCH
ab$     , ab              , MATCH
ab$     , abz             , MISMATCH
^a+b$   , ab              , MATCH
^ab$    , xab             , MISMATCH

# Built-in character classes
\wa     , aa              , MATCH
\wa     , ba              , MATCH
\wa     , !a              , MISMATCH
\Wa     , !a              , MATCH
\Wa     , ba              , MISMATCH

a\sa    , a a             , MATCH
a\sa    , axa             , MISMATCH
a\Sa    , a a             , MISMATCH
a\Sa    , axa             , MATCH

a\da    , a9a             , MATCH
a\da    , axa             , MISMATCH
a\Da    , a9a             , MISMATCH
a\Da    , axa             , MATCH

# Custom character classes
[a]     , a               , MATCH
[a]     , b               , MISMATCH
[^a]    , a               , MISMATCH
[^a]    , b               , MATCH
[a-z]   , a               , MATCH
[a-z]   , b               , MATCH
[a-z]   , p               , MATCH
[a-z]   , z               , MATCH
[a-zA]  , A               , MATCH
[a-zA-Z] , p              , MATCH
[a-zA-Z] , P              , MATCH
[a-cxyz] , y              , MATCH
[a-c.+*()] , .            , MATCH
[a-c.+*()] , +            , MATCH
[a-c.+*()] , *            , MATCH
[a-c.+*()] , (            , MATCH
[a-c.+*()] , )            , MATCH
[\w]       , a            , MATCH
[\W]       , %            , MATCH
[^\W]      , a            , MATCH
[^\w]      , %            , MATCH
[^a-cx-z]  , m            , MATCH
[^a-cx-z]  , b            , MISMATCH
[\s]       , b            , MISMATCH

# Escaping within CCCs
[\[\]\-\\] , [, MATCH
[\[\]\-\\] , ], MATCH
[\[\]\-\\] , -, MATCH
[\[\]\-\\] , \, MATCH
[^\[\]\-\\] , [, MISMATCH
[a-c.+\*()] , *           , MATCH
[a-c.+\\*()] , \          , MATCH
[a-c.+\\*()] , *          , MATCH

###
# Optimizations etc.
###

# AltList / SplitMany
a|b , a , MATCH
a|b , b , MATCH
a|b , c , MISMATCH
a|b|c|d|e , a , MATCH
a|b|c|d|e , b , MATCH
a|b|c|d|e , c , MATCH
a|b|c|d|e , d , MATCH
a|b|c|d|e , e , MATCH
a|b|c|d|e , f , MISMATCH
x(a|b|c|d)y , xay, MATCH
x(a|b|c|d)y , xby, MATCH
x(a|b|c|d)y , xcy, MATCH
x(a|b|c|d)y , xdy, MATCH
x(a|b|c|d)y , xy, MISMATCH
x(a|b|c|d)y , xey, MISMATCH
(a|(b|c)|d) , a, MATCH
(a|(b|c)|d) , b, MATCH
(a|(b|c)|d) , c, MATCH
(a|(b|c)|d) , d, MATCH

# Confirm we can support unbounded thread vector stack
.* , aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa  , MATCH

# Confirm RLE doesn't break things
.*.*    , aaaaaaaaaaaaaa  , MATCH
(..)*   , aaaaaaaaaaaaaa  , MATCH
(..)*   , aaaaaaaaaaaaaaa , MATCH